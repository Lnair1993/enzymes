%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%% By Paulo Abelha (p.abelha@abdn.ac.uk) 2017
%
%% Script to run a demo for segmenting a point cloud and filtering the best segmentations by superquadric fitting
%   
% This script has linux commands that may require adapting for Windows
%
% We use CGAL 4.10 - Triangulated Surface Mesh Segmentation: https://doc.cgal.org/latest/Surface_mesh_segmentation/
% If you plan on recompiling the binaries, you need to install CGAL: https://doc.cgal.org/latest/Manual/installation.html
%
% We will be using the main binary: segment_meshes.cpp 
%
% pcl is short for point cloud
% SQ is short for superquadric/superparaboloid
% segms is short for segments

%% define variables
% folders
ROOT_FOLDER = '~/enzymes/segmentation/';
INPUT_FOLDER = [ROOT_FOLDER 'CGAL/data/'];
OUTPUT_FOLDER = [ROOT_FOLDER 'CGAL/data_segmented/'];
% segmentation params
k_begin = 3;
k_step = 2;
k_end=7;
lambda_begin = 0.2;
lambda_step = 0.1;
lambda_end = 0.8;
%% create input folder and clean output folder
mkdir(INPUT_FOLDER);
rmdir(OUTPUT_FOLDER);
mkdir(OUTPUT_FOLDER);
%% segment 


